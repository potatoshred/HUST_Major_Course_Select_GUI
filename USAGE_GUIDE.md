# 课程选择器使用指南

## 快速开始

### 1. 启动应用
打开终端，进入项目目录：
```bash
cd D:\LibApk\xk\course_selector_app
flutter pub get
flutter run -d windows
```

### 2. 获取Cookie（关键步骤）
1. **打开浏览器**（Chrome/Edge/Firefox）
2. **登录选课系统**：访问 `https://wsxk.hust.edu.cn`
3. **打开开发者工具**：按 `F12` 或右键选择"检查"
4. **找到Cookie**：
   - 切换到"Network"（网络）标签
   - 刷新页面
   - 点击任意请求
   - 在"Headers"（标头）中找到"Cookie"字段
   - 复制完整的Cookie字符串

### 3. 配置应用
- **Cookie输入框**：粘贴从浏览器复制的Cookie
- **User-Agent**：通常保持默认即可

### 4. 添加课程
- **课程名称**：输入完整的课程名称（如"大数据管理概论"）
- **教师姓名**：输入对应的教师姓名（如"左琼"）
- 点击"添加"按钮加入选课列表

### 5. 开始选课
点击"开始选课"或"智能选课"按钮，应用会自动：
1. 连接到选课系统
2. 查找匹配的课程和教师
3. 提交选课请求
4. 显示选课结果

## 界面详解

### 主界面布局
```
┌─────────────────────────────────────┐
│  课程选择器                    [⟳]  │
├─────────────────────────────────────┤
│ ┌─────────────网络设置─────────────┐ │
│ │ Cookie: [_____________________]  │ │
│ │ User-Agent: [_________________]  │ │
│ └──────────────────────────────────┘ │
│ ┌─────────────选课列表─────────────┐ │
│ │ 课程名称: [_____] 教师: [_____] [+]│ │
│ │ ┌─────────────────────────────┐  │ │
│ │ │ ● 大数据管理概论 - 左琼      │  │ │
│ │ │ ● 函数式编程原理 - 郑然      │  │ │
│ │ │ ● 计算机图形学 - 何云峰      │  │ │
│ │ └─────────────────────────────┘  │ │
│ └──────────────────────────────────┘ │
│ [状态: 准备就绪]                     │
│        [开始选课]                     │
└─────────────────────────────────────┘
```

### 状态说明
| 图标 | 状态 | 说明 |
|---|---|---|
| ⚪ | 待处理 | 课程等待选课 |
| 🔄 | 处理中 | 正在查找和选课 |
| ✅ | 成功 | 课程已成功选中 |
| ❌ | 失败 | 选课失败，查看详情 |
| ⚠️ | 警告 | 课程已满或冲突 |

## 高级功能

### 智能选课
高级版本提供智能选课功能：
1. **自动匹配**：根据课程名和教师名自动匹配
2. **批量处理**：一次性处理所有目标课程
3. **详细反馈**：每门课程的选课状态
4. **错误重试**：可手动重试失败的课程

### 故障排除

#### 常见问题解决

**问题1：Cookie无效**
```
解决方案：
1. 重新登录选课系统
2. 获取最新的Cookie
3. 确保Cookie包含所有必要字段
```

**问题2：网络连接失败**
```
解决方案：
1. 检查校园网连接
2. 关闭VPN或代理
3. 确认选课系统可正常访问
```

**问题3：课程未找到**
```
解决方案：
1. 检查课程名称拼写
2. 确认教师姓名正确
3. 验证课程是否在当前学期开设
```

**问题4：选课失败**
```
可能原因：
- 课程已满
- 时间冲突
- 选课权限不足
- 系统繁忙
```

## 实用技巧

### 1. 批量添加课程
可以一次性添加多门课程，应用会按顺序处理。

### 2. 优先级设置
通过调整课程在列表中的顺序，可以设置选课优先级。

### 3. 实时监控
保持应用窗口打开，可以实时监控选课进度。

### 4. 结果导出
选课完成后，可以截图保存选课结果。

## Cookie获取详细步骤

### Chrome浏览器
1. 按 `F12` 打开开发者工具
2. 点击"Network"标签
3. 访问选课系统
4. 在请求列表中找到任意请求
5. 点击请求，在"Headers"中找到"cookie"字段
6. 复制完整的cookie字符串（包含所有分号分隔的部分）

### Edge浏览器
步骤与Chrome相同。

### Firefox浏览器
1. 按 `F12` 打开开发者工具
2. 点击"网络"标签
3. 访问选课系统
4. 在请求列表中找到任意请求
5. 点击请求，在"请求标头"中找到"cookie"字段

## 安全提醒

1. **Cookie安全**：Cookie包含登录信息，不要分享给他人
2. **及时退出**：选课完成后及时退出选课系统
3. **定期更新**：Cookie有过期时间，需要定期重新获取
4. **合法使用**：仅用于个人选课，不要用于恶意攻击

## 技术支持

如果遇到技术问题：
1. 检查Flutter环境：运行 `flutter doctor`
2. 更新依赖：运行 `flutter pub upgrade`
3. 查看日志：在终端中查看错误信息
4. 重新启动：关闭应用后重新启动

## 更新日志

### v1.0.0
- ✅ 基础选课功能
- ✅ Cookie配置
- ✅ 课程列表管理
- ✅ 状态显示

### v1.1.0
- ✅ 高级选课模式
- ✅ 智能匹配
- ✅ 详细状态跟踪
- ✅ 进度显示